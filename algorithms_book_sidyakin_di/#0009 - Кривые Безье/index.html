<!DOCTYPE html>
<html>
<head>
<title>Алгоритмы - Кривые Безье</title>
<link rel="stylesheet" type="text/css" href="../../css/main.css">
</head>
<body>
<p>
Данная статья посвящена компьютерной графике, точнее её двухмерной части &mdash; Кривым Безье. Статья расскажет Вам, как построить самостоятельно кривую Безье. Что в дальнейшем поможет Вам в Ваших приложениях для векторной графики. 
</p>
<img src="../img/algorithms_logo_blogger.png"/>
<h1>Алгоритмы - Кривые Безье.</h1>
<ul class="noneVisibleMarkers">
<li><a href="#Intro">1. Введение.</a></li>
<li><a href="#BezierCurves">2. Кривая Безье.</a></li>
<li><a href="#BezierCurvesGeometry">3. Геометрическое объяснение кривых Безье.</a></li>
<li><a href="#BezierCurvesSamplingRateT">4. Уровень дискретизации t.</a></li>
<li><a href="#Conclusion">5. Заключение.</a></li>
</ul>
<h2 id="Intro">1. Введение.</h2>
<p>Кривы́е Безье́  &mdash; типы кривых, предложенные в 60-х годах XX века независимо друг от друга Пьером Безье из автомобилестроительной компании «Рено» и Полем де Кастельжо из компании «Ситроен», где применялись для проектирования кузовов автомобилей.</p>
<p>Поле де Кастельжо предложил их геометрическое рекурсивное обоснование. Пьер Безье предложил только их математическую формулировку.</p>
<p>Кривая Безье является частным случаем многочленов Бернштейна, описанных Сергеем Натановичем Бернштейном в 1912 году.</p>
<h2 id="BezierCurves">2. Кривая Безье.</h2>
<p>Кривая Безье записывается следующим параметрическим выражением:</p>
<p><img src="img/f1.png" width="20%"/></p>
<p>Где <i>b<sub>k,n</sub></i>:</p>
<p><img src="img/f2.png" width="25%"/></p>
<p>, а <i>P<sub>i</sub></i> - координаты i-ой точки. Т.е.:</p>
<p><img src="img/f3.png" width="32%"/></p>
<p><i>t</i> &mdash; изменяется от 0 до 1, вещественное, точность его определяется в зависимости от разрешения монитора и уровня дискретизации. </p>
<p>Далее приводятся примеры уравнений кривых от 1-го до 3-го порядка.</p>
<p>Уравнение кривой Безье 1-го порядка:</p>
<p><img src="img/f4.png" width="25%"/></p>
<p><i>Рис. 1. Линейная кривая Безье.</i></p>
<p>Уравнение кривой Безье 2-го порядка:</p>
<p><img src="img/f5.png" width="30%"/></p>
<p><i>Рис. 2. Квадратичная кривая Безье.</i></p>
<p>Уравнение кривой Безье 3-го порядка:</p>
<p><img src="img/f6.png" width="33%"/></p>
<p><i>Рис. 3. Кубическая кривая Безье.</i></p>
<p>На рисунках 1-4 представлены кривые Безье с точками: P<sub>0</sub> = (20, 20), P<sub>1</sub> = (120, 160), P<sub>2</sub> = (160, 160), P<sub>3</sub> = (170, 30), P<sub>4</sub> = (380, 180), построенными на поле шириной 400 точек и высотой 200 точек.</p>
<p><img src="img/b1.png" /></p>
<p><i>Рис. 4. Линейная кривая Безье.</i></p>
<p><img src="img/b2.png" /></p>
<p><i>Рис. 5. Квадратичная кривая Безье.</i></p>
<p><img src="img/b3.png" /></p>
<p><i>Рис. 6. Кубическая кривая Безье.</i></p>
<p><img src="img/b4.png" /></p>
<p><i>Рис. 7. Кривая Безье 4-го порядка.</i></p>
<p>Далее посмотрим на анимацию построения кривых Безье (точка <i>t</i> плавно двигается по кривой).</p>
<p><img src="img/b1a.gif" /></p>
<p><i>Анимация 1. Линейная кривая Безье.</i></p>
<p><img src="img/b2a.gif" /></p>
<p><i>Анимация 2. Квадратичная кривая Безье.</i></p>
<p><img src="img/b3a.gif" /></p>
<p><i>Анимация 3. Кубическая кривая Безье.</i></p>
<p><img src="img/b4a.gif" /></p>
<p><i>Анимация 4. Кривая Безье 4-го порядка.</i></p>
<h2 id="BezierCurvesGeometry">3. Геометрическое объяснение кривых Безье Поля де Кастельжо.</h2>
<p>Строим линейные кривые Безье от первой точки до второй, от второй к третьей и так до последней, не соединяя линейной кривой Безье последнюю и 0-ую точку. Через точки <i>t</i> (полученных ранее линейных кривых) строим линейные кривые Безье начиная с нулевой и до последней, как ранее, но уже по полученным точкам, которых на одну меньше, чем ранее. Снова строим через новополученные точки <i>t</i> линейные кривые и из них получаем новые точки. Так повторяем пока точка не останется одна &mdash; это и есть точка кривой. Теперь представьте всё это в движении &mdash; это и есть кривая Безье. Наглядно посмотрите на анимации далее.</p>
<p>Построение кривой Безье 1-го порядка:</p>
<p><img src="img/b1adc.gif" /></p>
<p><i>Анимация 5. Геометрический смысл линейной кривой Безье.</i></p>
<p>Построение кривой Безье 2-го порядка:</p>
<p><img src="img/b2adc.gif" /></p>
<p><i>Анимация 6. Геометрический смысл квадратичной кривой Безье.</i></p>
<p>Построение кривой Безье 3-го порядка:</p>
<p><img src="img/b3adc.gif" /></p>
<p><i>Анимация 7. Геометрический смысл кубической кривой Безье.</i></p>
<p>Построение кривой Безье 4-го порядка:</p>
<p><img src="img/b4adc.gif" /></p>
<p><i>Анимация 8. Геометрический смысл кривой Безье 4-го порядка.</i></p>
<div class="information"><p>В заключение раздела предоставляю исходный код программы для рисования описанных выше рисунков: <a href="src/BezierSolution.zip">Программа для рисования Кривых Безье, без учёта уровня дискретизации t</a>. Программа написана на C# WPF, программа генерирует картинки попиксельно на холсте пикселей со сглаживанием с помощью сверх образца x16 (<a href="../%230008%20-%20Сглаживание%20графики%20(Anti-Aliasing)/index.html">Алгоритмы - Сглаживание графики (Anti-aliasing)</a>). Программа записывает картинки в корень расположения исполняемого файла.</p></div>
<h2 id="BezierCurvesSamplingRateT">4. Уровень дискретизации t.</h2>
<p>Данный раздел показывает, как увеличивать t, чтобы при следующем не значительном увеличении вычисленные координаты не попали на туже точку.</p>
<p>Для определения уровня дискретизации t координаты x или y, для всех случаев с определённым t, должны отличаться на единицу. Т.е.:</p>
<p><img src="img/t01.png" /></p>
<p>Уравнение выглядит так, более конкретно:</p>
<p><img src="img/t02.png" /></p>
<p>Т.е.:</p>
<p><img src="img/t03.png" /></p>
<p>Решим это уравнение для линейной кривой:</p>
<p><img src="img/t04.png" /></p>
<p><img src="img/t05.png" /></p>
<p><img src="img/t06.png" /></p>
<p><img src="img/t07.png" /></p>
<p><img src="img/t08.png" /></p>
<p><img src="img/t09.png" /></p>
<p>Это уравнение Δt действительно для уравнения только кривой Безье первого порядка (n=1), хотя для неё бессмысленно начальное утверждение, но оно подойдёт Вам для многочленов Безье большего порядка. В конце показано, что выбирается минимальное Δt, но можно использовать и для конкретной оси.<p>
<div class="comment"><p>Выведите уравнение для Δt для общего случая самостоятельно, если вы планируете написать свой графический редактор, то сделайте это обязательно.</p></div>
<h2 id="Conclusion">5. Заключение.</h2>
<p>В заключение статьи могу Вам пожелать написание собственного графического редактора или другого применения кривых Безье.</p>
</body>
</html>
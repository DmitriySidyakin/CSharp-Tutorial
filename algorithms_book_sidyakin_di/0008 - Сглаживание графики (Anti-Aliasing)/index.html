<!DOCTYPE html>
<html>
<head>
<title>Алгоритмы - Сглаживание графики (Anti-aliasing)</title>
<link rel="stylesheet" type="text/css" href="../../css/main.css">
</head>
<body>
<a href="https://dmitriysidyakin.github.io/School-IT/algorithms_book_sidyakin_di/">Набор олгоритмов</a>
<p>
Статья посвящена тому, как сглаживать отображаемые графические элементы. В статье рассмотрены 2 метода сглаживания. В данной статье рассматривается сглаживание для отображения, как двух-мерной, так и трёх-мерной графики, на примере отображения прямой линии.</p>
<img src="../img/algorithms_logo_blogger.png"/>
<h1>Алгоритмы - Сглаживание графики (Anti-aliasing).</h1>
<ul class="noneVisibleMarkers">
<li><a href="#Intro">1. Введение.</a></li>
<li><a href="#SSAA">2. Super Sample Anti-Aliasing, Сглаживание на основе сверх-образца.</a></li>
<li><a href="#MSAA">3. Multi Sample Anti-Aliasing, Сглаживание на основе множественного образца.</a></li>
<li><a href="#Conclusion">4. Заключение.</a></li>
</ul>
<h2 id="Intro">1. Введение.</h2>
<p>Сглаживание &mdash; это технология для устранения эффекта зубчастости.</p>
<p>Всего алгоритмов сглаживания, в статье, два.</p>
<p>Вот они:</p>
<p><ul>
<li>SSAA (Super Sample Anti-Aliasing, Сглаживание на основе сверх-образца) &mdash; заключается в том, что изображение отображается на высоком разрешении кадра, потом уменьшается под размер отображаемого кадра.</li>
<li>MSAA (Multi Sample Anti-Aliasing, Сглаживание на основе множественного образца) &mdash; привязывает несколько точек одному пикселю, цвет прозрачности (смешения с фоном выбирается) из того, сколько точек зацепил своим контуром объект в доле пикселя.</li></ul>
</p>
<h2 id="SSAA">2. Super Sample Anti-Aliasing, Сглаживание на основе сверх-образца.</h2>
<p>Для начала построим прямую на изображении 200 на 100 точек. Вот оно увеличенное в 4 раза:</p>
<p><img src="img/SSAA_1.png" /></p>
<p><i>Рис. 1. Увеличенное изображение прямой на кадре размером 200 на 100 точек.</i></p>
<p>Сам процесс сглаживания на основе сверх-образца построен на том, что изображение строится на увеличенном кадре, а потом линейно уменьшается.</p>
<p>Вот пример прямой, построенной на кадре в 4 раза больше предыдущего (800 на 400 точек).</p>
<p><img src="img/SSAA_2.png" /></p>
<p><i>Рис. 2. Изображение прямой на кадре размером 800 на 400 точек.</i></p>
<p>Теперь линейно уменьшим его до кадра размером 200 на 100 точек (уменьшим в 4 раза). Вот пример этого рисунка, увеличенного после всего в 4 раза:</p>
<p><img src="img/SSAA_3.png" /></p>
<p><i>Рис. 3. Линейно уменьшенное изображение прямой, предыдущего рисунка, на кадр размером 200 на 100 точек.</i></p>
<p>Как вы видите прямые на Рисунке 1 и Рисунке 3 построены одинаково (одинакового размера), но различны: прямая на Рисунке 3 получилась со сглаживанием.</p>
<p>Этот алгоритм требует, чтобы изображение было построено пропорционально на увеличенном кадре (холсте), а потом уменьшен во столько раз на меньший холст:</p>
<p><img src="img/SSAA_canvas.png" /></p>
<p><i>Рис. 4. Уменьшение кадра.</i></p>
<h2 id="MSAA">3. Multi Sample Anti-Aliasing, Сглаживание на основе множественного образца.</h2>
<p>Сглаживание построено на том, что для каждого пикселя строятся опорные точки. Сколько опорных точек попало в область &mdash; на столько область и рисуется.</p>
<p>Часть прямой без этого сглаживания выглядит так:</p>
<p><img src="img/MSAA_1.png" /></p>
<p>Рис. 5. Часть прямой без сглаживания.</p>
<p>Для каждого пикселя строятся опорные точки.</p>
<p><img src="img/MSAA_2.png" /></p>
<p>Рис. 6. Опорные точки пикселя.</p>
<p>Построим опорные точки для всех пикселей, для пикселей полностью попавших в область (со всеми опорными точками) закрашиваем их.</p>
<p><img src="img/MSAA_3.png" /></p>
<p>Рис. 7. Опорные точки пикселей.</p>
<p>Закрасим пиксели, опорные точки которых попали в объект частично, в соответствии с тем количеством точек, которые попали в границы объекта:</p>
<p><p><img src="img/MSAA_4.png" /></p>
<p>Рис. 8. Сглаживание на основе множественного образца.</p></p>
<h2 id="Conclusion">4. Заключение.</h2>
<p>В заключение могу Вам пожелать разработки своего графического редактора. Также изучайте черчение (начертательную геометрию), оно Вам пригодиться в программировании в дальнейшем.</p>
</body>
</html>